# Cw

Проект развернут на angular 20 без использования дополнительных систем сборки.

## Требования к инструментам


```
node.js: ^20.19.0 || ^22.12.0 || ^24.0.0
```

## Запуск

```
npm ci
ng serve
```

## Описание

Для масштабирования документа используется css-свойство zoom вместо transform scale. В отличие от transform, zoom не анимируется, зато помогает без лишних усилий повторить поведение масштабирования страницы браузера: положение скролла страницы и ее размеры. Правда, в процессе оказалось, что в Firefox не все так гладко с zoom. У FF мало пользователей, поэтому в зависимости от требований можно было бы доработать масштабирование или оставить как есть.

Перемещение аннотаций реализовано с помощью pointer-событий, это обеспечивает кросплатформенность. Например, drag-n-drop события поддерживаются не всеми платформами.

При введении текста в аннотацию она автоматически увеличивается, но также можно вручную изменить ее размер, потянув за правый нижний угол (не в Firefox). Нажатием клавиши escape снимается фокус с аннотации. Если с пустой аннотации снять фокус, она удаляется.

Засчет использования transform translate вместо left + top удалось несколько оптимизировать рендеринг страницы при перемещении аннотаций.

Протестировал, насколько хватило времени, на последних версиях chrome, safari, firefox.

Так же я дополнил в проекте некоторые глобальные типы, чтобы сделать код местами чуть лаконичнее.

По стилю кода, я бы еще в дальнейшем донастроил линтер + прекоммит хук, еще компиляцию typescript перед коммитом. И покрытие тестами. Сейчас при чтении кода может броситься в глаза, что поля класса с разными модификаторами иногда перемешиваются. Я придерживался того, чтобы вверху класса объявлялись DI поля, дальше инпуты, аутпуты и т.д. Можно выбрать разные подходы, главное, их придерживаться)
